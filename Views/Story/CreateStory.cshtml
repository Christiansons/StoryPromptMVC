@using StoryPromptMVC.Models.Story
@model CreateStoryVM 
@{
	ViewData["Title"] = "Create New Story";
}

@* <h3>Create a story</h3>

@if (ViewBag.Prompt != null)
{
	<div class="mb-4">
		<h4><strong>Prompt</strong></h4>
		<p>@ViewBag.prompt.Description</p>
		<p><strong>Created date:</strong> @ViewBag.prompt.promptDateCreated</p>
	</div>
}

<form asp-action="CreateStory" method="post">
	<div>
		<label asp-for="storyContent">Write your story:</label>
		<input type="text" asp-for="storyContent" />
		<label asp-for="storyDateCreated">Created:</label>
		<input readonly type="date" asp-for="storyDateCreated" value="@DateTime.Now"/>
		<input type="hidden" asp-for="promptId"  value="@ViewBag.promptId"/>
	</div>
	<button type="submit">Create story</button>
</form> *@

<div class="container mt-5 p-4 rounded" style="background-color: #f7faff; border: 1px solid #dee2e6;">
    <h3 class="text-center font-weight-bold text-dark mb-4">Create a New Story</h3>
    @if (ViewBag.Prompt != null)
    {
        <div class="alert alert-info">
            <h5><strong>Prompt:</strong> @ViewBag.prompt.Description</h5>
            <p><strong>Created on:</strong> @ViewBag.prompt.promptDateCreated</p>
        </div>
    }

    <form asp-action="CreateStory" method="post">
        <div class="form-group">
            <label asp-for="storyContent" class="font-weight-bold">Write your story:</label>
            <textarea asp-for="storyContent" class="form-control" rows="5" placeholder="Start writing here..."></textarea>
            <span asp-validation-for="storyContent" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="storyDateCreated" class="font-weight-bold">Created:</label>
            <input type="date" asp-for="storyDateCreated" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" readonly />
        </div>

        <input type="hidden" asp-for="promptId" value="@ViewBag.promptId" />

        <div class="form-group d-flex justify-content-end">
            <a asp-action="Index" class="btn btn-custom-secondary mr-2">Cancel</a>
            <button type="submit" class="btn btn-custom-primary">Submit</button>
        </div>
    </form>
</div>
